{"version":3,"file":"ia-wayback-search.js","sourceRoot":"","sources":["../../src/ia-wayback-search.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACnE,OAAO,UAAU,MAAM,eAAe,CAAC;AACvC,OAAO,IAAI,MAAM,QAAQ,CAAC;AAGnB,IAAM,aAAa,GAAnB,MAAM,aAAc,SAAQ,UAAU;IAAtC;;QACuB,iBAAY,GAEpC;YACA,YAAY,EAAE,CAAC,KAAa,EAAE,EAAE,CAC9B,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,iCAAiC,KAAK,EAAE,CAAC;SACtE,CAAC;QAE0B,yBAAoB,GAAG,aAAa,CAAC;IA0LnE,CAAC;IAtLC,MAAM;QACJ,OAAO,IAAI,CAAA;oCACqB,IAAI,CAAC,YAAY;;uCAEd,IAAI,CAAC,oBAAoB;;qBAE3C,IAAI,CAAC,kCAAkC;;;;;;;;;qBASvC,IAAI,CAAC,iCAAiC;;;eAG5C,IAAI;;;;;;;;;;cAUL,UAAU;;;;KAInB,CAAC;IACJ,CAAC;IAEO,YAAY,CAAC,CAAQ;QAC3B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC;QACvC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IAED,0BAA0B,CAAC,KAAa;QACtC,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,wBAAwB,EAAE;YACxC,MAAM,EAAE;gBACN,KAAK;aACN;SACF,CAAC,CACH,CAAC;IACJ,CAAC;IAED,kCAAkC;QAChC,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,gCAAgC,CAAC,CAAC,CAAC;IACxE,CAAC;IAED,iCAAiC;QAC/B,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,wBAAwB,CAAC,CAAC,CAAC;IAChE,CAAC;;AAEM,oBAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAyHlB,AAzHY,CAyHX;AAhM0B;IAA3B,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;mDAKzB;AAE0B;IAA3B,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;2DAAsC;AAE1C;IAAtB,KAAK,CAAC,MAAM,CAAC;+CAAqC;AAVxC,aAAa;IADzB,aAAa,CAAC,mBAAmB,CAAC;GACtB,aAAa,CAkMzB","sourcesContent":["import { css, html, LitElement } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators.js\";\nimport searchIcon from \"./icon-search\";\nimport logo from \"./logo\";\n\n@customElement(\"ia-wayback-search\")\nexport class WaybackSearch extends LitElement {\n  @property({ type: Object }) queryHandler: {\n    performQuery: (query: string) => void;\n  } = {\n      performQuery: (query: string) =>\n        (window.location.href = `https://web.archive.org/web/*/${query}`),\n  };\n\n  @property({ type: String }) waybackPagesArchived = \"916 billion\";\n\n  @query(\"#url\") private urlInput!: HTMLInputElement;\n\n  render() {\n    return html`\n      <form method=\"post\" @submit=${this.handleSubmit}>\n        <p>\n          Search the history of over ${this.waybackPagesArchived}\n          <a\n            @click=${this.emitWaybackMachineStatsLinkClicked}\n            data-event-click-tracking=\"TopNav|WaybackMachineStatsLink\"\n            href=\"https://blog.archive.org/2016/10/23/defining-web-pages-web-sites-and-web-captures/\"\n            >web pages</a\n          >\n          on the Internet.\n        </p>\n        <fieldset>\n          <a\n            @click=${this.emitWaybackMachineLogoLinkClicked}\n            data-event-click-tracking=\"TopNav|WaybackMachineLogoLink\"\n            href=\"https://web.archive.org\"\n            >${logo}</a\n          >\n          <label for=\"url\">Search the Wayback Machine</label>\n          <div class=\"search-field\">\n            <input\n              type=\"text\"\n              name=\"url\"\n              id=\"url\"\n              placeholder=\"enter URL or keywords\"\n            />\n            ${searchIcon}\n          </div>\n        </fieldset>\n      </form>\n    `;\n  }\n\n  private handleSubmit(e: Event) {\n    e.preventDefault();\n    const query = this.urlInput.value;\n    this.emitWaybackSearchSubmitted(query);\n    this.queryHandler.performQuery(query);\n  }\n\n  emitWaybackSearchSubmitted(query: string) {\n    this.dispatchEvent(\n      new CustomEvent(\"waybackSearchSubmitted\", {\n        detail: {\n          query,\n        },\n      }),\n    );\n  }\n\n  emitWaybackMachineStatsLinkClicked() {\n    this.dispatchEvent(new CustomEvent(\"waybackMachineStatsLinkClicked\"));\n  }\n\n  emitWaybackMachineLogoLinkClicked() {\n    this.dispatchEvent(new CustomEvent(\"waybackMachineLogoLink\"));\n  }\n\n  static styles = css`\n    :host {\n      font: normal 1.2rem/1.5 var(--themeFontFamily);\n    }\n\n    form {\n      max-width: 600px;\n    }\n\n    p {\n      margin-top: 0;\n      font-weight: 200;\n    }\n\n    a {\n      font-weight: 500;\n      text-decoration: none;\n      color: var(--activeColor);\n    }\n\n    fieldset {\n      padding: 0.7rem 2rem;\n      margin: 1.5rem 0;\n      box-sizing: border-box;\n      text-align: center;\n      border: none;\n      border-radius: 7px;\n      background-color: #fcf5e6;\n      box-shadow: 3px 3px 0 0 #c3ad97;\n    }\n\n    label {\n      display: none;\n    }\n\n    img {\n      width: 100%;\n      max-width: 215px;\n      max-height: 60px;\n      margin-bottom: 1.3rem;\n      vertical-align: middle;\n    }\n\n    input {\n      display: block;\n      width: 100%;\n      height: 3rem;\n      padding: 0.5rem 1rem 0.5rem 2.5rem;\n      font: normal 1.2rem/1.5 var(--themeFontFamily);\n      color: #858585;\n      box-sizing: border-box;\n      border: 1px solid var(--grey80);\n      border-radius: 2rem;\n      background: #eee;\n    }\n\n    input:focus {\n      border-color: #66afe9;\n      outline: none;\n    }\n\n    .search-field {\n      position: relative;\n      overflow: hidden;\n    }\n\n    .search-field svg {\n      position: absolute;\n      top: 2px;\n      left: 3px;\n      width: 2.4rem;\n      height: 2.4rem;\n    }\n\n    .search-field .fill-color {\n      fill: var(--iconFill);\n    }\n\n    input:focus + svg {\n      display: none;\n    }\n\n    @media (min-width: 890px) {\n      form {\n        margin: 0 auto;\n      }\n\n      p {\n        margin-bottom: 3rem;\n        font-size: 1.6rem;\n        text-align: center;\n      }\n\n      img {\n        margin: 0;\n      }\n\n      fieldset {\n        margin: 0 auto;\n      }\n\n      fieldset a,\n      .search-field {\n        display: inline-block;\n        width: 49%;\n        vertical-align: middle;\n      }\n\n      fieldset a {\n        text-align: center;\n      }\n\n      .search-field svg {\n        width: 2.8rem;\n        height: 2.8rem;\n      }\n\n      .search-field .fill-color {\n        fill: var(--desktopSearchIconFill);\n      }\n    }\n  `;\n}\n"]}